<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XDGKit: üïπÔ∏è Examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">XDGKit<span id="projectnumber">&#160;v1.0.0-1</span>
   </div>
   <div id="projectbrief">C++ XDG Utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">üïπÔ∏è Examples</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="finding-icons"></a>
Finding Icons</h2>
<p>The following example demonstrates how to load icons from available themes.</p>
<p>XDGKit searches for themes in the standard directories defined by the <a class="el" href="namespace_x_d_g.html" title="Namespace.">XDG</a> specification. Additional directories can be specified for icon lookup by setting the <code>XDG_DATA_DIRS</code> environment variable <b>before</b> creating an XDGKit instance, as explained in <a class="el" href="class_x_d_g_1_1_x_d_g_icon_theme_manager.html#a5b9f960ff12e0d0bb083e25f659fdca3" title="Retrieves the directories to search for icon themes, in order of precedence.">XDG::XDGIconThemeManager::searchDirs()</a>.</p>
<p>Icon themes are indexed lazily when an icon is first searched within them. This process can be slow depending on the number of subdirectories and icons in the theme.</p>
<p>To improve performance, XDGKit uses cache files. To generate or update the cache, run the <code>xdgkit-icon-theme-indexer</code> utility, which scans available themes and stores their information in a compact, serialized format under <code>/var/cache/xdgkit/icon_themes</code>. When XDGKkit searches for an icon within a theme for the first time, it first checks for an existing cache file. If no cache file is found, the application loads and indexes the information manually (slow). Using the cache also reduces RAM usage, as all the information is directly mapped from cached files rather than being stored in memory.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;XDGKit/XDGKit.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespace_x_d_g.html">XDG</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="struct_x_d_g_1_1_x_d_g_kit_1_1_options.html">XDGKit::Options</a> options;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Load themes from cache when possible</span></div>
<div class="line">    options.<a class="code hl_variable" href="struct_x_d_g_1_1_x_d_g_kit_1_1_options.html#ad1667ad6be775729b9783ece8efcd038">useIconThemesCache</a> = <span class="keyword">true</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Automatically reload themes if a cache update is detected</span></div>
<div class="line">    options.<a class="code hl_variable" href="struct_x_d_g_1_1_x_d_g_kit_1_1_options.html#a82b12d7af4504156a3366676780acbfe">autoReloadCache</a> = <span class="keyword">true</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Create an instance of XDGKit.</span></div>
<div class="line">    <span class="keyword">auto</span> kit = XDGKit::Make(options);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Search for an icon</span></div>
<div class="line">    <span class="keyword">const</span> <a class="code hl_class" href="class_x_d_g_1_1_x_d_g_icon.html">XDGIcon</a> *firefox =</div>
<div class="line">        kit-&gt;iconThemeManager().findIcon(</div>
<div class="line">            <span class="stringliteral">&quot;firefox&quot;</span>,                                  <span class="comment">// Icon to search for</span></div>
<div class="line">            512,                                        <span class="comment">// Desired icon size (unscaled)</span></div>
<div class="line">            2,                                          <span class="comment">// Scale factor</span></div>
<div class="line">            XDGIcon::PNG | XDGIcon::SVG | XDGIcon::XMP, <span class="comment">// File extensions to consider</span></div>
<div class="line">            { <span class="stringliteral">&quot;Adwaita&quot;</span>, <span class="stringliteral">&quot;&quot;</span> }                           <span class="comment">// Theme names to search in order, &quot;&quot; as wildcard for all themes</span></div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Check if the icon was found</span></div>
<div class="line">    <span class="keywordflow">if</span> (firefox)</div>
<div class="line">    {</div>
<div class="line">        std::cout</div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot;Theme: &quot;</span> &lt;&lt; firefox-&gt;<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon.html#a19d808665ce56360d0cad3793ab6474e">directory</a>().<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon_directory.html#a536270e0d3b518ce327032f01cbeddaf">theme</a>().<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon_theme.html#a24efda839dcb5101dbb0befdac4a5b2e">name</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot;Icon: &quot;</span> &lt;&lt; firefox-&gt;<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon.html#abcae27fabbf35bb7086d2c1c09f84d09">name</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot;Size: &quot;</span> &lt;&lt; firefox-&gt;<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon.html#a19d808665ce56360d0cad3793ab6474e">directory</a>().<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon_directory.html#ae409f355f1f2d82a5750ebc5801460a3">size</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">            &lt;&lt; <span class="stringliteral">&quot;Scale: &quot;</span> &lt;&lt; firefox-&gt;<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon.html#a19d808665ce56360d0cad3793ab6474e">directory</a>().<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon_directory.html#a2985108e431c6b3dbd8df613a345daa1">scale</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (firefox-&gt;<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon.html#a9b25f7dec3d765cc5115d7b7d4c69025">extensions</a>() &amp; XDGIcon::PNG)</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;PNG Path: &quot;</span> &lt;&lt; firefox-&gt;<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon.html#a4721f0a855cc9f7c576fdb7344c3f90a">getPath</a>(XDGIcon::PNG) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (firefox-&gt;<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon.html#a9b25f7dec3d765cc5115d7b7d4c69025">extensions</a>() &amp; XDGIcon::SVG)</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;SVG Path: &quot;</span> &lt;&lt; firefox-&gt;<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon.html#a4721f0a855cc9f7c576fdb7344c3f90a">getPath</a>(XDGIcon::SVG) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (firefox-&gt;<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon.html#a9b25f7dec3d765cc5115d7b7d4c69025">extensions</a>() &amp; XDGIcon::XMP)</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;XMP Path: &quot;</span> &lt;&lt; firefox-&gt;<a class="code hl_function" href="class_x_d_g_1_1_x_d_g_icon.html#a4721f0a855cc9f7c576fdb7344c3f90a">getPath</a>(XDGIcon::XMP) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Could not find an icon named &#39;firefox&#39;.&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_x_d_g_1_1_x_d_g_icon_directory_html_a2985108e431c6b3dbd8df613a345daa1"><div class="ttname"><a href="class_x_d_g_1_1_x_d_g_icon_directory.html#a2985108e431c6b3dbd8df613a345daa1">XDG::XDGIconDirectory::scale</a></div><div class="ttdeci">int32_t scale() const noexcept</div><div class="ttdoc">Retrieves the scale factor of the icons.</div><div class="ttdef"><b>Definition</b> XDGIconDirectory.h:86</div></div>
<div class="ttc" id="aclass_x_d_g_1_1_x_d_g_icon_directory_html_a536270e0d3b518ce327032f01cbeddaf"><div class="ttname"><a href="class_x_d_g_1_1_x_d_g_icon_directory.html#a536270e0d3b518ce327032f01cbeddaf">XDG::XDGIconDirectory::theme</a></div><div class="ttdeci">XDGIconTheme &amp; theme() const noexcept</div><div class="ttdoc">Retrieves the theme to which this directory belongs.</div><div class="ttdef"><b>Definition</b> XDGIconDirectory.h:138</div></div>
<div class="ttc" id="aclass_x_d_g_1_1_x_d_g_icon_directory_html_ae409f355f1f2d82a5750ebc5801460a3"><div class="ttname"><a href="class_x_d_g_1_1_x_d_g_icon_directory.html#ae409f355f1f2d82a5750ebc5801460a3">XDG::XDGIconDirectory::size</a></div><div class="ttdeci">int32_t size() const noexcept</div><div class="ttdoc">Retrieves the nominal (unscaled) size of icons in the directory.</div><div class="ttdef"><b>Definition</b> XDGIconDirectory.h:65</div></div>
<div class="ttc" id="aclass_x_d_g_1_1_x_d_g_icon_html"><div class="ttname"><a href="class_x_d_g_1_1_x_d_g_icon.html">XDG::XDGIcon</a></div><div class="ttdoc">Properties of an icon.</div><div class="ttdef"><b>Definition</b> XDGIcon.h:16</div></div>
<div class="ttc" id="aclass_x_d_g_1_1_x_d_g_icon_html_a19d808665ce56360d0cad3793ab6474e"><div class="ttname"><a href="class_x_d_g_1_1_x_d_g_icon.html#a19d808665ce56360d0cad3793ab6474e">XDG::XDGIcon::directory</a></div><div class="ttdeci">XDGIconDirectory &amp; directory() const noexcept</div><div class="ttdoc">Retrieves the directory to which this icon belongs.</div><div class="ttdef"><b>Definition</b> XDGIcon.h:69</div></div>
<div class="ttc" id="aclass_x_d_g_1_1_x_d_g_icon_html_a4721f0a855cc9f7c576fdb7344c3f90a"><div class="ttname"><a href="class_x_d_g_1_1_x_d_g_icon.html#a4721f0a855cc9f7c576fdb7344c3f90a">XDG::XDGIcon::getPath</a></div><div class="ttdeci">std::filesystem::path getPath(Extension ext) const noexcept</div><div class="ttdoc">Retrieves the absolute path of the icon for a specified file extension.</div><div class="ttdef"><b>Definition</b> XDGIcon.cpp:6</div></div>
<div class="ttc" id="aclass_x_d_g_1_1_x_d_g_icon_html_a9b25f7dec3d765cc5115d7b7d4c69025"><div class="ttname"><a href="class_x_d_g_1_1_x_d_g_icon.html#a9b25f7dec3d765cc5115d7b7d4c69025">XDG::XDGIcon::extensions</a></div><div class="ttdeci">uint32_t extensions() const noexcept</div><div class="ttdoc">Retrieves the bitset of file extensions found for this icon.</div><div class="ttdef"><b>Definition</b> XDGIcon.h:43</div></div>
<div class="ttc" id="aclass_x_d_g_1_1_x_d_g_icon_html_abcae27fabbf35bb7086d2c1c09f84d09"><div class="ttname"><a href="class_x_d_g_1_1_x_d_g_icon.html#abcae27fabbf35bb7086d2c1c09f84d09">XDG::XDGIcon::name</a></div><div class="ttdeci">const std::string_view &amp; name() const noexcept</div><div class="ttdoc">Retrieves the name of the icon.</div><div class="ttdef"><b>Definition</b> XDGIcon.h:50</div></div>
<div class="ttc" id="aclass_x_d_g_1_1_x_d_g_icon_theme_html_a24efda839dcb5101dbb0befdac4a5b2e"><div class="ttname"><a href="class_x_d_g_1_1_x_d_g_icon_theme.html#a24efda839dcb5101dbb0befdac4a5b2e">XDG::XDGIconTheme::name</a></div><div class="ttdeci">const std::string &amp; name() const noexcept</div><div class="ttdoc">Retrieves the theme's directory base name.</div><div class="ttdef"><b>Definition</b> XDGIconTheme.h:50</div></div>
<div class="ttc" id="anamespace_x_d_g_html"><div class="ttname"><a href="namespace_x_d_g.html">XDG</a></div><div class="ttdoc">Namespace.</div><div class="ttdef"><b>Definition</b> XDGMap.h:7</div></div>
<div class="ttc" id="astruct_x_d_g_1_1_x_d_g_kit_1_1_options_html"><div class="ttname"><a href="struct_x_d_g_1_1_x_d_g_kit_1_1_options.html">XDG::XDGKit::Options</a></div><div class="ttdoc">Configuration options.</div><div class="ttdef"><b>Definition</b> XDGKit.h:23</div></div>
<div class="ttc" id="astruct_x_d_g_1_1_x_d_g_kit_1_1_options_html_a82b12d7af4504156a3366676780acbfe"><div class="ttname"><a href="struct_x_d_g_1_1_x_d_g_kit_1_1_options.html#a82b12d7af4504156a3366676780acbfe">XDG::XDGKit::Options::autoReloadCache</a></div><div class="ttdeci">bool autoReloadCache</div><div class="ttdoc">Automatically reload icon themes.</div><div class="ttdef"><b>Definition</b> XDGKit.h:45</div></div>
<div class="ttc" id="astruct_x_d_g_1_1_x_d_g_kit_1_1_options_html_ad1667ad6be775729b9783ece8efcd038"><div class="ttname"><a href="struct_x_d_g_1_1_x_d_g_kit_1_1_options.html#ad1667ad6be775729b9783ece8efcd038">XDG::XDGKit::Options::useIconThemesCache</a></div><div class="ttdeci">bool useIconThemesCache</div><div class="ttdoc">Enables icon theme caching.</div><div class="ttdef"><b>Definition</b> XDGKit.h:35</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<script>
  var menu = false;
  var burger, nav;
  function resp() {
    if (window.innerWidth < 768) {
      burger.hidden = false;
      nav.hidden = true;
    } else {
      burger.hidden = true;
      nav.hidden = false;
    }
    menu = false;
  }
  function toggleMenu() {
    nav.hidden = menu;
    menu = !menu;
  }
  window.onload = function () {
    if (typeof toggleLevel !== "undefined") toggleLevel(2);
    // Get all <a> tags with the "el" class
    var elLinks = document.querySelectorAll("a.el");
    // Loop through the matched elements
    elLinks.forEach(function (link) {
      // Replace "Louvre::" with an empty string in the text content
      link.textContent = link.textContent.replace(/Louvre::/g, "");
    });
    nav = document.getElementById("main-nav");
    burger = document.createElement("div");
    burger.style.position = "absolute";
    burger.style.top = "14px";
    burger.style.right = burger.style.top;
    burger.innerHTML =
      '<svg onclick="toggleMenu()" height="32px" viewBox="0 0 448 512"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>';
    document.getElementById("top").appendChild(burger);
    resp();
  };
  window.onresize = function () {
    resp();
  };
</script>
<div style="height:48px"></div>
<div id="nav-path" class="navpath" style="position: fixed; bottom: 0">
  <ul>
    <li class="footer">
      Project developed by
      <a href="https://github.com/CuarzoSoftware"
        ><img
          class="footer"
          src="https://avatars.githubusercontent.com/u/29326763?s=200&v=4"
          style="
            margin-left: 2px;
            position: relative;
            top: -1px;
            width: 12px;
            height: 12px;
          "
          alt="cuarzo"
        />
        Cuarzo Software</a
      >
    </li>
  </ul>
</div>
